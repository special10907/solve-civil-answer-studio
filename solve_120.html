<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>í† ëª©êµ¬ì¡°ê¸°ìˆ ì‚¬ ê¸°ì¶œë‹µì•ˆ ë¶„ì„</title>
    <!-- External Libs (CDN ì¤‘ë³µ ì œê±°: Font AwesomeëŠ” vendorë§Œ ì‚¬ìš© â†’ ì¶”ì  ë°©ì§€ ë©”ì‹œì§€ ê°ì†Œ) -->
    <link href="vendor/css/all.min.css" rel="stylesheet" />
    <!-- ëŸ°íƒ€ì„ ì—ëŸ¬ ìº¡ì²˜ (ë””ë²„ê¹…ìš©) -->
    <script>
      window.onerror = function (msg, url, line, col, error) {
        const errDiv = document.createElement("div");
        errDiv.style.position = "fixed";
        errDiv.style.zIndex = "999999";
        errDiv.style.bottom = "10px";
        errDiv.style.left = "10px";
        errDiv.style.right = "10px";
        errDiv.style.padding = "15px";
        errDiv.style.background = "rgba(220, 38, 38, 0.9)";
        errDiv.style.color = "#fff";
        errDiv.style.borderRadius = "8px";
        errDiv.style.fontFamily = "monospace";
        errDiv.style.fontSize = "12px";
        errDiv.style.whiteSpace = "pre-wrap";
        errDiv.style.boxShadow = "0 10px 25px rgba(0,0,0,0.5)";
        errDiv.innerHTML = `<strong>ğŸ’¥ ëŸ°íƒ€ì„ ì¶©ëŒ ë°œìƒ:</strong><br/>${msg}<br/>Line: ${line}:${col}<br/>URL: ${url}<br/>Stack: ${error ? error.stack : "N/A"}`;
        document.body.appendChild(errDiv);
        return false;
      };
      window.onunhandledrejection = function (event) {
        const errDiv = document.createElement("div");
        errDiv.style.position = "fixed";
        errDiv.style.zIndex = "999999";
        errDiv.style.bottom = "120px";
        errDiv.style.left = "10px";
        errDiv.style.right = "10px";
        errDiv.style.padding = "15px";
        errDiv.style.background = "rgba(234, 88, 12, 0.9)";
        errDiv.style.color = "#fff";
        errDiv.style.borderRadius = "8px";
        errDiv.style.fontFamily = "monospace";
        errDiv.style.fontSize = "12px";
        errDiv.innerHTML = `<strong>âš ï¸ ë¹„ë™ê¸° ì¶©ëŒ ë°œìƒ:</strong><br/>${event.reason}`;
        document.body.appendChild(errDiv);
      };
    </script>
    <script>
      (function () {
        const silentStrings = [
          "cdn.tailwindcss.com should not be used in production",
          "[PDF.js] Using CDN worker",
          "Tracking Prevention blocked access to storage",
        ];
        const wrap = (original) =>
          function (...args) {
            try {
              const msg =
                args.length && typeof args[0] === "string" ? args[0] : "";
              if (silentStrings.some((s) => msg.includes(s))) return;
            } catch {}
            return original.apply(this, args);
          };
        console.warn = wrap(console.warn.bind(console));
        console.log = wrap(console.log.bind(console));
        console.info = wrap(console.info.bind(console));
        console.error = wrap(console.error.bind(console));
      })();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="vendor/tailwind.js"></script>
    <script>
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";
    </script>

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap");

      body {
        font-family: "Noto Sans KR", sans-serif;
        background-color: #f5f5f4; /* Stone-100 */
      }

      /* Custom Chart Container Styling as per requirements */
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        height: 350px; /* Base height */
        max-height: 400px;
      }

      @media (min-width: 768px) {
        .chart-container {
          height: 400px;
        }
      }

      .content-section {
        display: none;
        animation: fadeIn 0.5s ease-in-out;
      }

      .content-section.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .glass-panel {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(229, 231, 235, 1);
      }

      /* Custom scrollbar for better aesthetics */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
      /* Interactive PDF Overlay Styles */
      #pdfVisualOverlay .group-box:hover {
        background-color: rgba(52, 211, 153, 0.4); /* Emerald-400/40 */
      }

      /* ìë™ ì¸ì‹ ì˜ì—­ ë°•ìŠ¤Â·ë¦¬ì‚¬ì´ì¦ˆ í•¸ë“¤ í´ë¦­ ë³´ì¥ */
      #pdfVisualOverlay {
        pointer-events: auto;
      }
      #pdfVisualOverlay .group-box {
        pointer-events: auto;
      }
      .handle-nw,
      .handle-ne,
      .handle-sw,
      .handle-se,
      .handle-n,
      .handle-s,
      .handle-w,
      .handle-e,
      .resizer {
        pointer-events: auto !important;
        z-index: 50;
      }
      .cursor-copy {
        cursor: copy;
      }
      .cursor-move {
        cursor: move;
      }
    </style>
  </head>
  <body
    class="text-slate-800 h-screen flex flex-col md:flex-row overflow-hidden"
  >
    <!-- Sidebar Navigation -->
    <nav
      class="bg-slate-800 text-white w-full md:w-64 flex-shrink-0 flex flex-col justify-between shadow-lg z-20"
    >
      <div class="p-6">
        <h1 class="text-xl font-bold tracking-wider mb-1">
          <i class="fas fa-archway mr-2"></i>í† ëª©êµ¬ì¡°ê¸°ìˆ ì‚¬
        </h1>
        <p class="text-xs text-slate-400">íšŒì°¨ ëˆ„ì í˜• ê¸°ì¶œ/ë‹µì•ˆ ë¶„ì„</p>
        <div class="mt-3">
          <label
            for="globalRoundSelect"
            class="block text-[11px] text-slate-400 mb-1"
            >ì „ì—­ íšŒì°¨ ì„ íƒ</label
          >
          <select
            id="globalRoundSelect"
            class="w-full text-xs p-2 rounded bg-slate-700 text-white border border-slate-600"
          >
            <option value="">ì „ì²´ íšŒì°¨</option>
          </select>
          <button
            type="button"
            onclick="deleteSelectedGlobalRound()"
            class="mt-2 w-full text-xs p-2 rounded bg-rose-700 text-white hover:bg-rose-800"
          >
            ì„ íƒ íšŒì°¨ ì‚­ì œ
          </button>
        </div>
      </div>

      <div class="flex-1 overflow-y-auto px-4 space-y-2 mb-4">
        <button
          type="button"
          onclick="showSection('dashboard')"
          class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center bg-slate-700 font-medium"
          data-target="dashboard"
        >
          <i class="fas fa-tachometer-alt w-6"></i> í•©ê²© ì „ëµ (Strategy)
        </button>
        <button
          type="button"
          onclick="showSection('analysis')"
          class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center"
          data-target="analysis"
        >
          <i class="fas fa-chart-pie w-6"></i> íšŒì°¨ë³„ ê¸°ì¶œ ë¶„ì„
        </button>
        <button
          type="button"
          onclick="showSection('mechanics')"
          class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center"
          data-target="mechanics"
        >
          <i class="fas fa-wave-square w-6"></i> êµ¬ì¡°ì—­í•™ & ë™ì—­í•™
        </button>
        <button
          type="button"
          onclick="showSection('design')"
          class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center"
          data-target="design"
        >
          <i class="fas fa-industry w-6"></i> ê°•êµ¬ì¡° & LSD
        </button>
        <button
          type="button"
          onclick="showSection('concrete')"
          class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center"
          data-target="concrete"
        >
          <i class="fas fa-cube w-6"></i> RC & PSC (D-Region)
        </button>
        <button
          type="button"
          onclick="showSection('datahub')"
          class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center"
          data-target="datahub"
        >
          <i class="fas fa-database w-6"></i> ë¬¸ì œ/ë‹µì•ˆ ë°ì´í„°
        </button>
        <button
          type="button"
          onclick="showSection('theory')"
          class="nav-btn w-full text-left px-4 py-3 rounded-lg hover:bg-slate-700 transition-colors flex items-center"
          data-target="theory"
        >
          <i class="fas fa-book w-6"></i> ì´ë¡  ì§€ì‹ë² ì´ìŠ¤
        </button>
      </div>

      <div class="p-4 bg-slate-900 text-xs text-center text-slate-500">
        Multi-Round Exam Knowledge Base
      </div>
    </nav>

    <!-- Main Content Area -->
    <main class="flex-1 overflow-y-auto p-4 md:p-8 relative">
      <!-- SECTION 1: DASHBOARD & STRATEGY -->
      <section id="dashboard" class="content-section active max-w-7xl mx-auto">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-slate-800 mb-2">
            <span class="global-round-label">ì „ì²´ íšŒì°¨</span> ê³ ë“ì  í•©ê²© ì „ëµ
            (High Score Strategy)
          </h2>
          <p
            class="text-slate-600 bg-white p-4 rounded-lg shadow-sm border-l-4 border-indigo-500"
          >
            <strong>Context:</strong> í† ëª©êµ¬ì¡°ê¸°ìˆ ì‚¬ ì‹œí—˜ì€ ë‹¨ìˆœí•œ ê³„ì‚° ëŠ¥ë ¥ì„
            ë„˜ì–´, ê³µí•™ì  íŒë‹¨ë ¥ê³¼ ë…¼ë¦¬ì  ì„œìˆ  ëŠ¥ë ¥ì„ ìš”êµ¬í•©ë‹ˆë‹¤. ìµœê·¼ íšŒì°¨
            ê²½í–¥ì€ í•œê³„ìƒíƒœì„¤ê³„ë²•(LSD), ìœ ì§€ê´€ë¦¬, êµ¬ì¡°ì  ì§ê´€ì„ ë¬»ëŠ” ë¬¸ì œê°€
            ì¦ê°€í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ì„¹ì…˜ì—ì„œëŠ” í•©ê²©ê¶Œ ë‹µì•ˆ ì‘ì„±ì„ ìœ„í•œ í•µì‹¬ ìš”ì†Œë¥¼
            ë¶„ì„í•©ë‹ˆë‹¤.
          </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Strategy Chart -->
          <div class="glass-panel p-6 rounded-xl shadow-sm">
            <h3 class="text-lg font-bold mb-4 border-b pb-2">
              í•©ê²©ì ì—­ëŸ‰ ë¶„ì„ (Competency Radar)
            </h3>
            <div class="chart-container">
              <canvas id="strategyChart"></canvas>
            </div>
            <div class="mt-4 text-sm text-slate-600 text-center">
              <i class="fas fa-info-circle mr-1"></i> ê³ ë“ì ì„ ìœ„í•´ì„œëŠ” ì´ë¡ ì 
              ê¹Šì´ë¿ë§Œ ì•„ë‹ˆë¼ ë‹µì•ˆì˜ ê°€ì‹œì„±(Formatting)ê³¼ ì‹œê°„ ê´€ë¦¬ê°€
              í•„ìˆ˜ì ì…ë‹ˆë‹¤.
            </div>
          </div>

          <!-- Strategic Keys -->
          <div class="space-y-6">
            <div class="glass-panel p-6 rounded-xl shadow-sm h-full">
              <h3 class="text-lg font-bold mb-4 text-indigo-700">
                ë‹µì•ˆ ì‘ì„± ì°¨ë³„í™” í¬ì¸íŠ¸ (Key Differentiators)
              </h3>
              <ul class="space-y-4">
                <li class="flex items-start">
                  <span
                    class="bg-indigo-100 text-indigo-800 p-2 rounded-lg mr-3 mt-1"
                    ><i class="fas fa-pen-fancy"></i
                  ></span>
                  <div>
                    <h4 class="font-bold">í‚¤ì›Œë“œ ê°•ì¡° (Highlighting)</h4>
                    <p class="text-sm text-slate-600">
                      ì±„ì ê´€ì˜ ëˆˆì— ë„ë„ë¡ í•µì‹¬ ìš©ì–´(ì˜ˆ: Redundancy,
                      Ductility)ëŠ” <strong>ì˜ì–´/í•œì</strong>ë¥¼ ë³‘ê¸°í•˜ê³ , ì¤‘ìš”í•œ
                      ìˆ˜ì¹˜ëŠ” ë°‘ì¤„ì´ë‚˜ ê´„í˜¸ë¡œ ê°•ì¡°í•©ë‹ˆë‹¤.
                    </p>
                  </div>
                </li>
                <li class="flex items-start">
                  <span
                    class="bg-emerald-100 text-emerald-800 p-2 rounded-lg mr-3 mt-1"
                    ><i class="fas fa-table"></i
                  ></span>
                  <div>
                    <h4 class="font-bold">ë„í•´ ë° ë„í‘œí™” (Visualization)</h4>
                    <p class="text-sm text-slate-600">
                      ì¤„ê¸€(Text) ëŒ€ì‹  <strong>ë¹„êµí‘œ(Table)</strong>ë¥¼ ì‚¬ìš©í•˜ì—¬
                      ë…¼ë¦¬ì  ëª…í™•ì„±ì„ ë†’ì…ë‹ˆë‹¤. (ì˜ˆ: ê°•ì„±ê¸°ì´ˆ vs ì—°ì„±ê¸°ì´ˆ, ASD
                      vs LSD)
                    </p>
                  </div>
                </li>
                <li class="flex items-start">
                  <span
                    class="bg-rose-100 text-rose-800 p-2 rounded-lg mr-3 mt-1"
                    ><i class="fas fa-balance-scale"></i
                  ></span>
                  <div>
                    <h4 class="font-bold">
                      ê³µí•™ì  ì†Œê²¬ (Engineering Judgment)
                    </h4>
                    <p class="text-sm text-slate-600">
                      ê²°ë¡ ë¶€ì—ëŠ” ë‹¨ìˆœ ìš”ì•½ì´ ì•„ë‹Œ, ì‹œê³µì„±, ê²½ì œì„±, ìœ ì§€ê´€ë¦¬ë¥¼
                      ê³ ë ¤í•œ <strong>ê¸°ìˆ ì‚¬ë¡œì„œì˜ ì œì–¸</strong>ì„ ë°˜ë“œì‹œ
                      í¬í•¨í•©ë‹ˆë‹¤.
                    </p>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Formula Reference -->
        <div class="mt-6 glass-panel p-6 rounded-xl shadow-sm">
          <h3 class="text-lg font-bold mb-4">
            ì£¼ìš” ì•”ê¸° ê³µì‹ ë° ìˆ˜í•™ì  ê¸°ì´ˆ (Mathematical Basics)
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm">
            <div class="bg-slate-50 p-4 rounded border border-slate-200">
              <div class="font-bold text-indigo-600 mb-1">
                Taylor Series (í…Œì¼ëŸ¬ ê¸‰ìˆ˜)
              </div>
              <p class="font-mono text-slate-700">sin(x) â‰ˆ x - xÂ³/3!</p>
              <p class="font-mono text-slate-700">cos(x) â‰ˆ 1 - xÂ²/2!</p>
              <p class="text-xs text-slate-500 mt-2">
                ë¯¸ì†Œë³€ìœ„ í•´ì„ ì‹œ í•„ìˆ˜ ê°€ì •
              </p>
            </div>
            <div class="bg-slate-50 p-4 rounded border border-slate-200">
              <div class="font-bold text-indigo-600 mb-1">
                Euler Formula (ì˜¤ì¼ëŸ¬ ê³µì‹)
              </div>
              <p class="font-mono text-slate-700">e^(ix) = cos(x) + iÂ·sin(x)</p>
              <p class="text-xs text-slate-500 mt-2">
                ë™ì—­í•™ ë° ë³µì†Œìˆ˜ í•´ì„ì˜ ê¸°ì´ˆ
              </p>
            </div>
            <div class="bg-slate-50 p-4 rounded border border-slate-200">
              <div class="font-bold text-indigo-600 mb-1">
                Buckling Load (ì¢Œêµ´ í•˜ì¤‘)
              </div>
              <p class="font-mono text-slate-700">P_cr = (Ï€Â²EI) / (KL)Â²</p>
              <p class="text-xs text-slate-500 mt-2">
                ìœ íš¨ì¢Œêµ´ê¸¸ì´(KL) ì‚°ì •ì´ í•µì‹¬
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 2: ROUND-WISE EXAM ANALYSIS -->
      <section id="analysis" class="content-section max-w-7xl mx-auto">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-slate-800 mb-2">
            <span class="global-round-label">ì „ì²´ íšŒì°¨</span> ê¸°ì¶œë¬¸ì œ ì‹¬ì¸µ ë¶„ì„
          </h2>
          <p
            class="text-slate-600 bg-white p-4 rounded-lg shadow-sm border-l-4 border-sky-500"
          >
            <strong>Context:</strong> íšŒì°¨ë³„ ì‹œí—˜ì€ êµ¬ì¡°ì—­í•™ì˜ ê¸°ë³¸ ì›ë¦¬ì™€
            ì‹¤ë¬´ì  ì´ìŠˆ(PSC ìœ ì§€ê´€ë¦¬ ë“±)ê°€ í˜¼í•©ëœ í˜•íƒœì…ë‹ˆë‹¤. 1êµì‹œ ë‹¨ë‹µí˜•ì€
            ê°œë… ëª…í™•ì„±ì„, 2~4êµì‹œ ì„œìˆ í˜•ì€ ë³µí•© í•´ì„ ëŠ¥ë ¥ì„ í‰ê°€í•©ë‹ˆë‹¤.
          </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Exam Distribution Chart -->
          <div class="glass-panel p-6 rounded-xl shadow-sm lg:col-span-1">
            <h3 class="text-lg font-bold mb-4 text-center">
              <span class="global-round-label">ì „ì²´ íšŒì°¨</span> ì¶œì œ ê²½í–¥ ë¶„í¬
            </h3>
            <div class="chart-container" style="height: 300px">
              <canvas id="examDistChart"></canvas>
            </div>
            <div class="mt-4 text-center">
              <span
                class="inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full mr-1"
                >êµ¬ì¡°ì—­í•™</span
              >
              <span
                class="inline-block px-2 py-1 bg-teal-100 text-teal-800 text-xs rounded-full mr-1"
                >ì½˜í¬ë¦¬íŠ¸(PSC)</span
              >
              <span
                class="inline-block px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full"
                >ê°•êµ¬ì¡°/ë™ì—­í•™</span
              >
            </div>
          </div>

          <!-- Problem Breakdown -->
          <div class="glass-panel p-6 rounded-xl shadow-sm lg:col-span-2">
            <h3 class="text-lg font-bold mb-4">
              êµì‹œë³„ í•µì‹¬ ë¬¸ì œ (Key Problems)
            </h3>
            <div class="flex space-x-2 mb-4 border-b border-slate-200">
              <button
                type="button"
                onclick="switchTab('p1')"
                class="exam-tab px-4 py-2 text-sm font-medium text-slate-600 hover:text-indigo-600 border-b-2 border-transparent hover:border-indigo-600 active-tab"
                data-tab="p1"
              >
                1êµì‹œ (ìš©ì–´)
              </button>
              <button
                type="button"
                onclick="switchTab('p2')"
                class="exam-tab px-4 py-2 text-sm font-medium text-slate-600 hover:text-indigo-600 border-b-2 border-transparent hover:border-indigo-600"
                data-tab="p2"
              >
                2~4êµì‹œ (ì„œìˆ )
              </button>
            </div>

            <div id="p1" class="tab-content block animate-fade-in">
              <ul class="space-y-3">
                <li
                  class="bg-white p-3 rounded border border-slate-200 hover:shadow-md transition-shadow cursor-pointer group"
                >
                  <div class="flex justify-between items-center">
                    <span class="font-bold text-indigo-700"
                      >Q1. ì‘ë ¥êµë€êµ¬ì—­ (D-Region)</span
                    >
                    <span class="text-xs text-slate-400">RC êµ¬ì¡°</span>
                  </div>
                  <p
                    class="text-sm text-slate-600 mt-1 group-hover:text-slate-800"
                  >
                    Bernoulli ê°€ì •ì´ ì„±ë¦½í•˜ì§€ ì•ŠëŠ” êµ¬ê°„. ìŠ¤íŠ¸ëŸ¿-íƒ€ì´ ëª¨ë¸(STM)
                    ì ìš© í•„ìˆ˜. (ìƒì„¸ ë‚´ìš©ì€ RC ì„¹ì…˜ ì°¸ì¡°)
                  </p>
                </li>
                <li
                  class="bg-white p-3 rounded border border-slate-200 hover:shadow-md transition-shadow"
                >
                  <div class="font-bold text-indigo-700">
                    Q. PSC ê¸´ì¥ì¬ ë¶€ì‹ ë° ê·¸ë¼ìš°íŒ…
                  </div>
                  <p class="text-sm text-slate-600 mt-1">
                    ì •ë¦‰ì²œ ê³ ê°€êµ ì‚¬ê³  ì‚¬ë¡€ ì—°ê³„. ë¶€ë™íƒœ í”¼ë§‰ íŒŒê´´ ë©”ì»¤ë‹ˆì¦˜ ë°
                    ë¸”ë¦¬ë”© ëŒ€ì±… ê¸°ìˆ .
                  </p>
                </li>
                <li
                  class="bg-white p-3 rounded border border-slate-200 hover:shadow-md transition-shadow"
                >
                  <div class="font-bold text-indigo-700">
                    Q. í•œê³„ìƒíƒœì„¤ê³„ë²•(LSD) í•˜ì¤‘ì¡°í•©
                  </div>
                  <p class="text-sm text-slate-600 mt-1">
                    KDS 24 12 11 ê¸°ì¤€. ê·¹í•œí•œê³„ìƒíƒœ, ì‚¬ìš©í•œê³„ìƒíƒœì˜ í•˜ì¤‘ê³„ìˆ˜
                    ì ìš© ì›ë¦¬.
                  </p>
                </li>
              </ul>
            </div>
            <div id="p2" class="tab-content hidden animate-fade-in">
              <ul class="space-y-3">
                <li
                  class="bg-white p-3 rounded border border-slate-200 hover:shadow-md transition-shadow"
                >
                  <div class="flex justify-between items-center">
                    <span class="font-bold text-orange-700"
                      >ë§¤íŠ¸ë¦­ìŠ¤ í•´ì„ (Matrix Method)</span
                    >
                    <span class="text-xs text-slate-400">êµ¬ì¡°í•´ì„</span>
                  </div>
                  <p class="text-sm text-slate-600 mt-1">
                    ì§ì ‘ê°•ë„ë²•ì„ ì´ìš©í•œ íŠ¸ëŸ¬ìŠ¤/í”„ë ˆì„ í•´ì„. ììœ ë„(DOF) ì„¤ì • ë°
                    ê°•ì„±í–‰ë ¬(K) êµ¬ì„± ëŠ¥ë ¥ í‰ê°€.
                  </p>
                </li>
                <li
                  class="bg-white p-3 rounded border border-slate-200 hover:shadow-md transition-shadow"
                >
                  <div class="font-bold text-orange-700">
                    ë™ì—­í•™ (Structural Dynamics)
                  </div>
                  <p class="text-sm text-slate-600 mt-1">
                    ê³ ìœ ì§„ë™ìˆ˜(Natural Frequency) ë° ê°ì‡ ë¹„(Damping Ratio) ì‚°ì •.
                    ì‘ë‹µìŠ¤í™íŠ¸ëŸ¼ í•´ì„ì˜ ê¸°ì´ˆ.
                  </p>
                </li>
                <li
                  class="bg-white p-3 rounded border border-slate-200 hover:shadow-md transition-shadow"
                >
                  <div class="font-bold text-orange-700">
                    ê°•êµ¬ì¡° ì—°ê²°ë¶€ (Steel Connections)
                  </div>
                  <p class="text-sm text-slate-600 mt-1">
                    ë³¼íŠ¸ ë° ìš©ì ‘ ì ‘í•©ë¶€ì˜ íŒŒê´´ ëª¨ë“œ ê²€í†  (ë¸”ë¡ì „ë‹¨íŒŒë‹¨ ë“±). KDS
                    14 30 25 ê¸°ì¤€ ì ìš©.
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 3: MECHANICS & DYNAMICS -->
      <section id="mechanics" class="content-section max-w-7xl mx-auto">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-slate-800 mb-2">
            êµ¬ì¡°ì—­í•™ ë° ë™ì—­í•™ (Structural Dynamics)
          </h2>
          <p
            class="text-slate-600 bg-white p-4 rounded-lg shadow-sm border-l-4 border-purple-500"
          >
            <strong>Context:</strong> ë™ì—­í•™ ë¬¸ì œëŠ” ê³ ìœ ê°’(Eigenvalue) í•´ì„ê³¼
            ê°ì‡  ììœ ì§„ë™(Damped Free Vibration)ì˜ ì´í•´ë¥¼ ë¬»ìŠµë‹ˆë‹¤. ì•„ë˜
            ì‹œë®¬ë ˆì´ì…˜ì€ ê°ì‡ ë¹„(Î¾)ê°€ ì§„ë™ ì†Œì‚°ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
          </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          <!-- Interactive Vibration Chart -->
          <div class="glass-panel p-6 rounded-xl shadow-sm lg:col-span-2">
            <div class="flex justify-between items-center mb-4">
              <h3 class="text-lg font-bold">
                ê°ì‡  ììœ  ì§„ë™ (Damped Free Vibration)
              </h3>
              <div class="text-xs bg-slate-100 px-2 py-1 rounded">
                Interactive
              </div>
            </div>
            <div class="chart-container">
              <canvas id="vibrationChart"></canvas>
            </div>

            <!-- Controls -->
            <div
              class="mt-4 grid grid-cols-2 gap-4 bg-slate-50 p-4 rounded-lg border border-slate-200"
            >
              <div>
                <label class="block text-xs font-bold text-slate-600 mb-1"
                  >ê°ì‡ ë¹„ (Damping Ratio, Î¾):
                  <span id="zetaValue">0.05</span></label
                >
                <input
                  type="range"
                  id="zetaInput"
                  min="0"
                  max="0.5"
                  step="0.01"
                  value="0.05"
                  class="w-full accent-purple-600 cursor-pointer"
                />
              </div>
              <div>
                <label class="block text-xs font-bold text-slate-600 mb-1"
                  >ê³ ìœ ì£¼ê¸° (Period, Tn): <span id="tnValue">1.0</span>s</label
                >
                <input
                  type="range"
                  id="tnInput"
                  min="0.5"
                  max="3.0"
                  step="0.1"
                  value="1.0"
                  class="w-full accent-purple-600 cursor-pointer"
                />
              </div>
            </div>
          </div>

          <!-- Theory Highlights -->
          <div class="glass-panel p-6 rounded-xl shadow-sm">
            <h3 class="text-lg font-bold mb-4 text-purple-700">
              í•µì‹¬ ì´ë¡  ë…¸íŠ¸
            </h3>
            <div class="space-y-4 text-sm">
              <div class="border-l-2 border-purple-300 pl-3">
                <h4 class="font-bold text-slate-800">
                  ìš´ë™ ë°©ì •ì‹ (Equation of Motion)
                </h4>
                <p class="font-mono text-xs mt-1 text-slate-600">
                  mÃ¼ + c uÌ‡ + ku = p(t)
                </p>
                <p class="mt-1 text-slate-600">
                  ê´€ì„±ë ¥ + ê°ì‡ ë ¥ + ë³µì›ë ¥ = ì™¸ë ¥
                </p>
              </div>
              <div class="border-l-2 border-purple-300 pl-3">
                <h4 class="font-bold text-slate-800">
                  ê³ ìœ ê°’ í•´ì„ (Eigenvalue Analysis)
                </h4>
                <p class="text-slate-600 mt-1">det(K - Ï‰Â²M) = 0</p>
                <p class="text-slate-600">
                  êµ¬ì¡°ë¬¼ì˜ ê³ ìœ ì§„ë™ìˆ˜(Ï‰)ì™€ ëª¨ë“œí˜•ìƒ(Î¦) ê²°ì •.
                </p>
              </div>
              <div class="border-l-2 border-purple-300 pl-3">
                <h4 class="font-bold text-slate-800">
                  ë¡œê·¸ ê°ì‡ ìœ¨ (Logarithmic Decrement)
                </h4>
                <p class="font-mono text-xs mt-1 text-slate-600">
                  Î´ = ln(u_i / u_{i+1}) â‰ˆ 2Ï€Î¾
                </p>
                <p class="text-slate-600">
                  ììœ ì§„ë™ ì‹¤í—˜ì„ í†µí•œ ê°ì‡ ë¹„ ì¶”ì •ì— í™œìš©.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 4: STEEL & LSD -->
      <section id="design" class="content-section max-w-7xl mx-auto">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-slate-800 mb-2">
            ê°•êµ¬ì¡° ë° í•œê³„ìƒíƒœì„¤ê³„ë²• (Steel & LSD)
          </h2>
          <p
            class="text-slate-600 bg-white p-4 rounded-lg shadow-sm border-l-4 border-red-500"
          >
            <strong>Context:</strong> ê°•êµ¬ì¡° ì„¤ê³„ì˜ í•µì‹¬ì€
            'ì¢Œêµ´(Buckling)'ì…ë‹ˆë‹¤. ì˜¤ì¼ëŸ¬ íƒ„ì„±ì¢Œêµ´ê³¼ ë¹„íƒ„ì„±ì¢Œêµ´ì˜ ê²½ê³„ë¥¼
            ì´í•´í•˜ê³ , ì”ë¥˜ì‘ë ¥ê³¼ ì´ˆê¸°ê²°í•¨ì´ ê¸°ë‘¥ ê°•ë„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ KDS ê¸°ì¤€ì—
            ë§ì¶° ì„¤ëª…í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
          </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <!-- Column Curve Chart -->
          <div class="glass-panel p-6 rounded-xl shadow-sm">
            <h3 class="text-lg font-bold mb-4">
              ê¸°ë‘¥ ê°•ë„ ê³¡ì„  (Column Strength Curve)
            </h3>
            <div class="chart-container">
              <canvas id="bucklingChart"></canvas>
            </div>
            <div class="mt-2 text-xs text-slate-500 text-center">
              ì„¸ì¥ë¹„(KL/r) ì¦ê°€ì— ë”°ë¥¸ ì„ê³„ì‘ë ¥(Fcr)ì˜ ê°ì†Œ
            </div>
          </div>

          <!-- LSD Concept Table -->
          <div
            class="glass-panel p-6 rounded-xl shadow-sm flex flex-col justify-center"
          >
            <h3 class="text-lg font-bold mb-4 text-red-700">
              ì„¤ê³„ë²• ë¹„êµ (Design Philosophies)
            </h3>
            <div class="overflow-x-auto">
              <table class="min-w-full text-sm text-left">
                <thead class="bg-slate-100 text-slate-700 font-bold">
                  <tr>
                    <th class="px-4 py-2 rounded-tl-lg">êµ¬ë¶„</th>
                    <th class="px-4 py-2">í—ˆìš©ì‘ë ¥ì„¤ê³„ë²• (ASD)</th>
                    <th class="px-4 py-2 rounded-tr-lg">
                      í•œê³„ìƒíƒœì„¤ê³„ë²• (LSD)
                    </th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-slate-200">
                  <tr>
                    <td class="px-4 py-3 font-medium bg-slate-50">ì•ˆì „ìœ¨</td>
                    <td class="px-4 py-3">ë‹¨ì¼ ì•ˆì „ìœ¨ (Safety Factor)</td>
                    <td class="px-4 py-3 text-red-600 font-bold">
                      ë¶€ë¶„ ì•ˆì „ ê³„ìˆ˜ (Partial Safety Factors)
                    </td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium bg-slate-50">í•˜ì¤‘</td>
                    <td class="px-4 py-3">ì‚¬ìš© í•˜ì¤‘ (Service Load)</td>
                    <td class="px-4 py-3">ê³„ìˆ˜ í•˜ì¤‘ (Factored Load)</td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium bg-slate-50">ê¸°ë°˜ ì´ë¡ </td>
                    <td class="px-4 py-3">íƒ„ì„± ì´ë¡  (Elastic)</td>
                    <td class="px-4 py-3">
                      í™•ë¥ ë¡ ì  ì‹ ë¢°ì„± ì´ë¡  (Reliability)
                    </td>
                  </tr>
                  <tr>
                    <td class="px-4 py-3 font-medium bg-slate-50">íŒŒê´´ ëª¨ë“œ</td>
                    <td class="px-4 py-3">ê³ ë ¤ ë¯¸í¡</td>
                    <td class="px-4 py-3">
                      ë‹¤ì–‘í•œ í•œê³„ìƒíƒœ(ULS, SLS, FLS) ëª…í™•
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div
              class="mt-4 p-3 bg-red-50 text-red-800 text-xs rounded border border-red-100"
            >
              <i class="fas fa-check-circle mr-1"></i>
              <strong>Tip:</strong> ë‹µì•ˆ ì‘ì„± ì‹œ ìœ„ì™€ ê°™ì€ í‘œë¥¼ í™œìš©í•˜ì—¬ LSDì˜
              í™•ë¥ ë¡ ì  ë°°ê²½ì„ ê°•ì¡°í•˜ë©´ ê³ ë“ì ì— ìœ ë¦¬í•©ë‹ˆë‹¤.
            </div>
          </div>
        </div>
      </section>

      <!-- SECTION 5: RC & D-REGION -->
      <section id="concrete" class="content-section max-w-7xl mx-auto">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-slate-800 mb-2">
            ì² ê·¼ì½˜í¬ë¦¬íŠ¸ & ì‘ë ¥êµë€êµ¬ì—­ (RC & D-Region)
          </h2>
          <p
            class="text-slate-600 bg-white p-4 rounded-lg shadow-sm border-l-4 border-teal-500"
          >
            <strong>Context:</strong> ëŒ€í‘œ ê¸°ì¶œ ì£¼ì œì¸ ì‘ë ¥êµë€êµ¬ì—­(D-Region)ì€
            í‰ë©´ìœ ì§€ê°€ì •ì´ ì„±ë¦½í•˜ì§€ ì•ŠëŠ” êµ¬ê°„ìœ¼ë¡œ, KDS 14 20 24ì— ë”°ë¼
            ìŠ¤íŠ¸ëŸ¿-íƒ€ì´ ëª¨ë¸(STM)ì„ ì ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
          </p>
        </div>

        <!-- Conceptual Diagram (CSS/HTML Implementation) -->
        <div class="glass-panel p-8 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-6 text-center">
            ìŠ¤íŠ¸ëŸ¿-íƒ€ì´ ëª¨ë¸ (Strut-and-Tie Model) ë©”ì»¤ë‹ˆì¦˜
          </h3>

          <div
            class="relative w-full max-w-3xl mx-auto h-64 border-2 border-slate-300 rounded-lg bg-slate-50 p-4 flex flex-col justify-between items-center overflow-hidden"
          >
            <!-- Beam Outline -->
            <div
              class="absolute top-0 left-0 bg-slate-200 text-[10px] p-1 rounded-br"
            >
              Deep Beam / Corbel
            </div>

            <!-- Load P -->
            <div
              class="absolute top-0 left-1/2 transform -translate-x-1/2 -mt-4 text-center"
            >
              <div class="text-red-600 font-bold text-lg">â†“ P (Load)</div>
            </div>

            <!-- Struts (Compression) -->
            <div
              class="absolute top-8 left-1/2 w-0.5 h-32 bg-transparent border-l-4 border-dotted border-red-400 transform -rotate-45 origin-top -translate-x-full"
            ></div>
            <div
              class="absolute top-8 left-1/2 w-0.5 h-32 bg-transparent border-l-4 border-dotted border-red-400 transform rotate-45 origin-top"
            ></div>

            <div
              class="absolute top-20 left-1/4 text-red-500 text-xs font-bold bg-white px-1"
            >
              Strut (ì••ì¶•)
            </div>
            <div
              class="absolute top-20 right-1/4 text-red-500 text-xs font-bold bg-white px-1"
            >
              Strut (ì••ì¶•)
            </div>

            <!-- Tie (Tension) -->
            <div
              class="absolute bottom-10 left-10 right-10 h-1 bg-blue-500"
            ></div>
            <div
              class="absolute bottom-6 w-full text-center text-blue-600 text-xs font-bold"
            >
              Tie (ì¸ì¥ ì² ê·¼)
            </div>

            <!-- Nodes -->
            <div
              class="absolute top-8 left-1/2 w-4 h-4 bg-slate-800 rounded-full transform -translate-x-1/2 shadow-lg z-10"
              title="CCC Node"
            ></div>
            <div
              class="absolute bottom-10 left-12 w-4 h-4 bg-slate-800 rounded-full transform -translate-y-1/2 shadow-lg z-10"
              title="CCT Node"
            ></div>
            <div
              class="absolute bottom-10 right-12 w-4 h-4 bg-slate-800 rounded-full transform -translate-y-1/2 shadow-lg z-10"
              title="CCT Node"
            ></div>

            <!-- Supports -->
            <div
              class="absolute bottom-0 left-10 w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-b-[20px] border-b-slate-400"
            ></div>
            <div
              class="absolute bottom-0 right-10 w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-b-[20px] border-b-slate-400"
            ></div>
          </div>

          <div class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
            <div class="p-3 bg-red-50 rounded border border-red-100">
              <div class="font-bold text-red-700">Strut (ì••ì¶•ëŒ€)</div>
              <p class="text-xs text-slate-600">
                ì½˜í¬ë¦¬íŠ¸ê°€ ì••ì¶•ë ¥ì„ ì „ë‹¬í•˜ëŠ” ê²½ë¡œ. ë³‘í˜•(Prismatic) ë˜ëŠ”
                ë¶€ì±„ê¼´(Fan) í˜•ìƒ.
              </p>
            </div>
            <div class="p-3 bg-blue-50 rounded border border-blue-100">
              <div class="font-bold text-blue-700">Tie (ì¸ì¥ëŒ€)</div>
              <p class="text-xs text-slate-600">
                ì² ê·¼ì´ ë°°ì¹˜ë˜ì–´ ì¸ì¥ë ¥ì„ ë¶€ë‹´í•˜ëŠ” ìš”ì†Œ. ì •ì°© ê¸¸ì´ í™•ë³´ í•„ìˆ˜.
              </p>
            </div>
            <div class="p-3 bg-slate-100 rounded border border-slate-200">
              <div class="font-bold text-slate-700">Node (ì ˆì )</div>
              <p class="text-xs text-slate-600">
                í˜ì´ êµì°¨í•˜ëŠ” ì˜ì—­. ì‘ë ¥ ì§‘ì¤‘ ë°œìƒ. (CCC, CCT, CTT ë“±ê¸‰)
              </p>
            </div>
          </div>
        </div>

        <!-- Model Answer Content -->
        <div class="glass-panel p-6 rounded-xl shadow-sm">
          <h3 class="text-lg font-bold mb-4 border-b pb-2">
            ëª¨ë²” ë‹µì•ˆ êµ¬ì„± (Key Points)
          </h3>
          <div class="space-y-4">
            <div>
              <h4 class="font-bold text-teal-700">1. ì •ì˜ (Definition)</h4>
              <p class="text-sm text-slate-700">
                í•˜ì¤‘ ì‘ìš©ì ì´ë‚˜ ì§€ì  ë¶€ê·¼, ë‹¨ë©´ ë³€í™”ë¶€ ë“±
                <strong>Saint-Venantì˜ ì›ë¦¬</strong>ê°€ ì ìš©ë˜ì§€ ì•Šì•„ í‰ë©´ìœ ì§€
                ê°€ì •ì´ ì„±ë¦½í•˜ì§€ ì•ŠëŠ” êµ¬ê°„. (Beam Theory ë¶ˆê°€)
              </p>
            </div>
            <div>
              <h4 class="font-bold text-teal-700">
                2. ì„¤ê³„ ì›ì¹™ (Design Principles)
              </h4>
              <ul class="list-disc list-inside text-sm text-slate-700 ml-2">
                <li>
                  <strong>B-Region (Beam):</strong> íœ¨ ì´ë¡  ì ìš© (í‰ë©´ ìœ ì§€
                  ê°€ì •).
                </li>
                <li>
                  <strong>D-Region (Discontinuity):</strong> ìŠ¤íŠ¸ëŸ¿-íƒ€ì´
                  ëª¨ë¸(STM) ë˜ëŠ” ìœ í•œìš”ì†Œí•´ì„(FEM) ì ìš©.
                </li>
                <li>
                  KDS 14 20 24 ê¸°ì¤€ì— ì˜ê±°í•˜ì—¬ íŠ¸ëŸ¬ìŠ¤ ëª¨ë¸ë¡œ ì´ìƒí™”í•˜ì—¬ ì„¤ê³„.
                </li>
              </ul>
            </div>
            <div>
              <h4 class="font-bold text-teal-700">3. ê²€í†  ì‚¬í•­ (Checklist)</h4>
              <p class="text-sm text-slate-700">
                â‘  ìŠ¤íŠ¸ëŸ¿ì˜ ìœ íš¨ ì••ì¶•ê°•ë„ (fce) ê²€í† <br />
                â‘¡ íƒ€ì´(ì² ê·¼)ì˜ í•­ë³µ ê°•ë„ ë° ì •ì°©<br />
                â‘¢ ì ˆì  ì˜ì—­(Nodal Zone)ì˜ ì§€ì•• ê°•ë„ ë° ì•µì»¤ë§
              </p>
            </div>
          </div>
        </div>
      </section>

      <section id="datahub" class="content-section max-w-7xl mx-auto">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-slate-800 mb-2">
            ë¬¸ì œ/ëª¨ë²”ë‹µì•ˆ ë°ì´í„° í—ˆë¸Œ
          </h2>
          <p
            class="text-slate-600 bg-white p-4 rounded-lg shadow-sm border-l-4 border-emerald-500"
          >
            <strong>Context:</strong> NotebookLM/Flowithì—ì„œ ë§Œë“  ê²°ê³¼ë¥¼
            JSONìœ¼ë¡œ ë¶™ì—¬ë„£ê³ , ì¦‰ì‹œ í˜ì´ì§€ ë‚´ì—ì„œ ë¬¸ì œ/ëª¨ë²”ë‹µì•ˆì„ ë Œë”ë§í•©ë‹ˆë‹¤.
          </p>
        </div>

        <!-- PDF ì‹œê°í™” ëª¨ë‹¬ (Modal) -->
        <div
          id="pdfVisualModal"
          class="fixed inset-0 bg-black/60 z-[100] hidden items-center justify-center p-4"
        >
          <div
            class="bg-white rounded-xl shadow-2xl w-[98vw] h-[95vh] flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200"
          >
            <div
              class="p-4 border-b flex items-center justify-between bg-slate-50 shrink-0"
            >
              <h4 class="font-bold text-slate-800">
                <i class="fas fa-eye mr-2 text-indigo-600"></i>ë¬¸ì œ ì¸ì‹ ì˜ì—­
                ì‹œê°í™”
              </h4>
              <div class="flex items-center gap-4">
                <div
                  class="flex flex-col items-end gap-0.5 px-4 border-r border-slate-200"
                >
                  <div
                    class="flex items-center gap-2 text-[10px] text-slate-500"
                  >
                    <span
                      class="w-3 h-3 bg-blue-400/30 border border-blue-600 rounded-sm"
                    ></span>
                    <span>íŒŒë€ ë°•ìŠ¤: í´ë¦­ ì¸ì‹ / ë“œë˜ê·¸: ììœ  ì˜ì—­ ìº¡ì²˜</span>
                  </div>
                  <div
                    class="flex items-center gap-2 text-[10px] text-slate-500"
                  >
                    <span
                      class="w-3 h-3 border-2 border-orange-600 bg-orange-400/40 rounded-sm"
                    ></span>
                    <span>í•¸ë“¤: ë°•ìŠ¤ í¬ê¸° ì¡°ì ˆ ë° ìœ„ì¹˜ ì´ë™ ê°€ëŠ¥</span>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button
                    type="button"
                    id="toggleAddAreaBtn"
                    onclick="toggleAddAreaMode()"
                    class="px-4 py-1.5 bg-white text-slate-600 border border-slate-200 text-sm font-bold rounded shadow-sm hover:bg-slate-50 transition"
                    title="ë°•ìŠ¤ê°€ ì¸ì‹ë˜ì§€ ì•Šì€ êµ¬ê°„ì„ ì§ì ‘ ë“œë˜ê·¸í•˜ì—¬ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ëª¨ë“œë¥¼ ì¼­ë‹ˆë‹¤."
                  >
                    <i class="fas fa-plus-square mr-1"></i>ì˜ì—­ ì¶”ê°€
                  </button>
                  <button
                    type="button"
                    onclick="ignoreAllCandidatesOnPage()"
                    class="px-4 py-1.5 bg-rose-50 text-rose-600 border border-rose-200 text-sm font-bold rounded shadow-sm hover:bg-rose-100 transition"
                    title="í˜„ì¬ í˜ì´ì§€ì—ì„œ ë¦¬ìŠ¤íŠ¸ì— ë“±ë¡ë˜ì§€ ì•Šì€ ëª¨ë“  í›„ë³´ ì˜ì—­ì„ ì¼ê´„ ìˆ¨ê¹€ ì²˜ë¦¬í•©ë‹ˆë‹¤."
                  >
                    <i class="fas fa-trash-alt mr-1"></i>ì´ í˜ì´ì§€ ëª¨ë‘ì‚­ì œ
                  </button>
                  <button
                    type="button"
                    onclick="applyAndClosePdfModal()"
                    class="px-4 py-1.5 bg-emerald-600 text-white text-sm font-bold rounded shadow-sm hover:bg-emerald-700 transition"
                    title="í˜„ì¬ê¹Œì§€ ë“±ë¡ëœ ëª©ë¡ì„ ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•©ë‹ˆë‹¤. ì°½ì€ ë‹«íˆì§€ ì•Šê³  ê³„ì† ì‘ì—…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
                  >
                    <i class="fas fa-save mr-1"></i>ì ìš© (ì°½ ìœ ì§€)
                  </button>
                  <button
                    type="button"
                    onclick="applyAndClosePdfModalWithClose()"
                    class="px-4 py-1.5 bg-slate-700 text-white text-sm font-bold rounded shadow-sm hover:bg-slate-800 transition"
                    title="í˜„ì¬ ëª©ë¡ì„ ì €ì¥í•˜ê³  ì°½ì„ ë‹«ìŠµë‹ˆë‹¤. ë‹¤ìŒì— ì°½ì„ ì—´ë©´ ì €ì¥ëœ ìƒíƒœë¡œ ë³µì›ë©ë‹ˆë‹¤."
                  >
                    <i class="fas fa-check mr-1"></i>ì ìš© í›„ ë‹«ê¸°
                  </button>
                  <button
                    type="button"
                    onclick="closePdfVisualModal()"
                    class="px-4 py-1.5 bg-slate-100 text-slate-600 text-sm font-bold rounded shadow-sm hover:bg-slate-200 transition"
                    title="ì €ì¥í•˜ì§€ ì•Šê³  ì°½ì„ ë‹«ìŠµë‹ˆë‹¤."
                  >
                    <i class="fas fa-times mr-1"></i>ë‹«ê¸°
                  </button>
                </div>
              </div>
            </div>
            <div class="flex-1 flex overflow-hidden bg-slate-100">
              <!-- ì¢Œì¸¡: PDF ë·°ì–´ -->
              <div
                class="flex-1 bg-slate-200 overflow-auto border-r border-slate-200 relative"
              >
                <!-- Wrapper for centering -->
                <div class="min-h-full flex p-8">
                  <div
                    id="pdfVisualWorkspace"
                    class="relative m-auto shadow-2xl bg-white"
                  >
                    <canvas id="pdfVisualCanvas" class="block"></canvas>
                    <div
                      id="pdfVisualOverlay"
                      class="absolute inset-0 z-10"
                    ></div>
                  </div>
                </div>
              </div>

              <!-- ìš°ì¸¡: ì‹¤ì‹œê°„ ìº¡ì²˜ ë¦¬ìŠ¤íŠ¸ -->
              <div class="w-[450px] bg-white flex flex-col shrink-0">
                <div
                  class="p-3 border-b bg-slate-50 flex items-center justify-between"
                >
                  <span class="text-xs font-bold text-slate-700"
                    >ì¶”ì¶œ ëª©ë¡</span
                  >
                  <span
                    id="modalCaptureCount"
                    class="text-[10px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded-full"
                    >0ê°œ</span
                  >
                </div>

                <!-- í˜„ì¬ ì„ íƒ ì˜ì—­ ìƒì„¸ ì •ë³´ ë° ì¡°ì‘ -->
                <div
                  id="selectionInfoPanel"
                  class="p-4 border-b bg-slate-50/50 space-y-3"
                >
                  <div class="flex gap-2">
                    <div class="flex-[1.2]">
                      <label
                        class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                        >íšŒì°¨</label
                      >
                      <input
                        type="text"
                        id="manualExamRound"
                        placeholder="ì˜ˆ: 120íšŒ"
                        class="w-full px-2 py-1.5 text-xs rounded border border-slate-200 focus:ring-1 focus:ring-indigo-400 outline-none"
                      />
                    </div>
                    <div class="flex-1">
                      <label
                        class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                        >êµì‹œ</label
                      >
                      <select
                        id="manualSession"
                        class="w-full px-2 py-1.5 text-xs rounded border border-slate-200 focus:ring-1 focus:ring-indigo-400 outline-none"
                      >
                        <option value="ë¯¸ì§€ì •">ì„ íƒ</option>
                        <option value="1êµì‹œ">1êµì‹œ</option>
                        <option value="2êµì‹œ">2êµì‹œ</option>
                        <option value="3êµì‹œ">3êµì‹œ</option>
                        <option value="4êµì‹œ">4êµì‹œ</option>
                      </select>
                    </div>
                    <div class="flex-[3]">
                      <label
                        class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                        >ë¬¸ì œ ë²ˆí˜¸/ì œëª©</label
                      >
                      <input
                        type="text"
                        id="manualQNum"
                        placeholder="ì˜ˆ: Q1"
                        class="w-full px-2 py-1.5 text-xs rounded border border-slate-200 focus:ring-1 focus:ring-indigo-400 outline-none"
                      />
                    </div>
                  </div>
                  <div>
                    <label
                      class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                      >ì¸ì‹ëœ í…ìŠ¤íŠ¸/ë‚´ìš©</label
                    >
                    <textarea
                      id="manualInputText"
                      placeholder="PDF ì˜ì—­ì„ ì„ íƒí•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ë©´ í…ìŠ¤íŠ¸ê°€ ì¶”ì¶œë©ë‹ˆë‹¤."
                      class="w-full h-24 p-2 text-xs rounded border border-slate-200 focus:ring-1 focus:ring-indigo-400 outline-none resize-none"
                    ></textarea>
                  </div>
                  <div class="flex gap-2">
                    <button
                      type="button"
                      onclick="analyzeCurrentArea()"
                      class="flex-1 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-bold rounded border border-indigo-100 hover:bg-indigo-100 transition shadow-sm"
                    >
                      <i class="fas fa-magic mr-1"></i>í˜„ì¬ì˜ì—­ í™•ì •(AI)
                    </button>
                    <button
                      type="button"
                      onclick="commitAreaToList()"
                      class="flex-1 py-1.5 bg-indigo-600 text-white text-xs font-bold rounded shadow-md hover:bg-indigo-700 transition"
                    >
                      <i class="fas fa-plus mr-1"></i>ì¶”ê°€(ì €ì¥)
                    </button>
                  </div>
                </div>

                <div
                  id="modalCaptureList"
                  class="flex-1 overflow-auto p-3 space-y-2"
                >
                  <p class="text-center text-[11px] text-slate-400 mt-10">
                    ìº¡ì²˜ëœ ë¬¸í•­ì´ ì—†ìŠµë‹ˆë‹¤.<br />PDF ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ì„¸ìš”.
                  </p>
                </div>
              </div>
            </div>
            <div
              class="p-4 border-t bg-slate-50 flex items-center justify-between shrink-0"
            >
              <p id="pdfVisualStatus" class="text-xs text-slate-600 italic">
                PDF í˜ì´ì§€ ë¡œë”© ì¤‘...
              </p>
              <div class="flex gap-2">
                <button
                  type="button"
                  id="prevPdfPageBtn"
                  class="px-3 py-1 text-xs bg-white border border-slate-300 rounded hover:bg-slate-50 disabled:opacity-50"
                >
                  ì´ì „
                </button>
                <span id="pdfPageLabel" class="text-xs font-bold self-center"
                  >1 / 1</span
                >
                <button
                  type="button"
                  id="nextPdfPageBtn"
                  class="px-3 py-1 text-xs bg-white border border-slate-300 rounded hover:bg-slate-50 disabled:opacity-50"
                >
                  ë‹¤ìŒ
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
          <div class="glass-panel p-6 rounded-xl shadow-sm">
            <h3 class="text-lg font-bold mb-3">JSON ì…ë ¥</h3>
            <p class="text-sm text-slate-600 mb-3">
              í•„ìˆ˜ êµ¬ì¡°: <strong>questions</strong> ë°°ì—´ (ê° í•­ëª©: id, title,
              modelAnswer)
            </p>
            <textarea
              id="answerJsonInput"
              class="w-full h-80 p-3 text-sm border border-slate-300 rounded-lg bg-slate-50 font-mono focus:outline-none focus:ring-2 focus:ring-emerald-400"
              placeholder='{"questions":[{"id":"Q1","title":"ë¬¸ì œ ì œëª©","modelAnswer":"ëª¨ë²”ë‹µì•ˆ"}]}'
            ></textarea>
            <div class="mt-3 flex flex-wrap gap-2">
              <button
                type="button"
                onclick="loadSampleData()"
                class="px-3 py-2 text-sm rounded bg-slate-200 hover:bg-slate-300"
              >
                ìƒ˜í”Œ ë¡œë“œ
              </button>
              <button
                type="button"
                onclick="applyAnswerData()"
                class="px-3 py-2 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"
              >
                JSON ì ìš©
              </button>
              <button
                type="button"
                onclick="saveAnswerData()"
                class="px-3 py-2 text-sm rounded bg-indigo-600 text-white hover:bg-indigo-700"
              >
                ë¸Œë¼ìš°ì € ì €ì¥
              </button>
              <button
                type="button"
                onclick="loadAnswerData()"
                class="px-3 py-2 text-sm rounded bg-slate-700 text-white hover:bg-slate-800"
              >
                ì €ì¥ë³¸ ë¶ˆëŸ¬ì˜¤ê¸°
              </button>
              <button
                type="button"
                onclick="exportAnswerDataToFile()"
                class="px-3 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700"
              >
                JSON íŒŒì¼ ë‚´ë³´ë‚´ê¸°
              </button>
              <button
                type="button"
                onclick="openImportFileDialog()"
                class="px-3 py-2 text-sm rounded bg-teal-600 text-white hover:bg-teal-700"
              >
                JSON íŒŒì¼ ê°€ì ¸ì˜¤ê¸°
              </button>
            </div>
            <input
              id="importJsonFileInput"
              type="file"
              accept="application/json,.json"
              class="hidden"
              onchange="importAnswerDataFromFile(event)"
            />
            <div class="mt-3 flex items-center justify-between">
              <p id="dataStatus" class="text-sm text-slate-600"></p>
              <p
                id="lastSavedStatus"
                class="text-[10px] text-slate-400 italic font-mono"
              ></p>
            </div>
          </div>

          <div class="glass-panel p-6 rounded-xl shadow-sm">
            <h3 class="text-lg font-bold mb-3">ì—°ê³„ ì›Œí¬í”Œë¡œìš° (ê¶Œì¥)</h3>
            <ol
              class="list-decimal list-inside text-sm text-slate-700 space-y-2"
            >
              <li>NotebookLM/Flowithì—ì„œ ë¬¸ì œë³„ ëª¨ë²”ë‹µì•ˆì„ ìƒì„±</li>
              <li>ì•„ë˜ JSON ìŠ¤í‚¤ë§ˆì— ë§ì¶° ê²°ê³¼ë¥¼ ì •ë¦¬</li>
              <li>ë³¸ í˜ì´ì§€ì— ë¶™ì—¬ë„£ê³  <strong>JSON ì ìš©</strong> í´ë¦­</li>
              <li>í•„ìš” ì‹œ <strong>ë¸Œë¼ìš°ì € ì €ì¥</strong>ìœ¼ë¡œ ì„ì‹œ ë³´ê´€</li>
            </ol>
            <div
              class="mt-4 p-3 rounded border border-slate-200 bg-slate-50 text-xs text-slate-600"
            >
              ê¶Œì¥ í•„ë“œ:
              <strong>questions</strong
              >(id/title/examRound/tags/modelAnswer/source/reviewed),
              <strong>theories</strong
              >(id/title/category/content/examRound/tags/source)
            </div>
          </div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">PDF ì—…ë¡œë“œ & ìë™ ì‘ì„± (MVP)</h3>
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            <div>
              <label
                for="pdfFileInput"
                class="block text-xs font-bold text-slate-600 mb-1"
                >ê¸°ì¶œ PDF ì—…ë¡œë“œ</label
              >
              <input
                id="pdfFileInput"
                type="file"
                accept="application/pdf,.pdf"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              />
              <div class="mt-2 flex flex-wrap gap-2">
                <!-- PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ ë²„íŠ¼ì€ MVPì—ì„œ ì œê±°ë˜ì–´ ì‚­ì œë¨ -->
                <button
                  type="button"
                  onclick="extractQuestionsFromPdfText()"
                  class="px-3 py-2 text-sm rounded bg-indigo-600 text-white hover:bg-indigo-700"
                >
                  ë¬¸ì œ ìë™ ì¶”ì¶œ
                </button>
                <button
                  type="button"
                  id="openPdfVisualBtn"
                  onclick="openPdfVisualModal()"
                  class="px-3 py-2 text-sm rounded bg-indigo-600 text-white hover:bg-indigo-700"
                >
                  ì¸ì‹ ì˜ì—­ í™•ì¸ (PDF)
                </button>
                <button
                  type="button"
                  id="runPipelineBtn"
                  onclick="runAutoPipeline()"
                  class="px-3 py-2 text-sm rounded bg-emerald-700 text-white hover:bg-emerald-800"
                >
                  ìë™ ë°°ì¹˜ ì‹¤í–‰
                </button>
              </div>
              <div
                id="pipelineReport"
                class="mt-3 hidden text-xs rounded border border-emerald-200 bg-emerald-50 p-3 text-emerald-800"
              ></div>
              <p id="pdfStatus" class="mt-2 text-xs text-slate-500"></p>
            </div>
            <div>
              <label class="block text-xs font-bold text-slate-600 mb-1"
                >ìë™ ì¶”ì¶œ ê²°ê³¼</label
              >
              <div
                id="autoExtractReport"
                class="w-full h-40 p-3 text-xs border border-slate-300 rounded bg-slate-50 overflow-auto"
              >
                ì²¨ë¶€íŒŒì¼ì„ ì¶”ê°€í•œ ë’¤ "ë¬¸ì œ ìë™ ì¶”ì¶œ"ì„ ëˆ„ë¥´ë©´ êµì‹œë³„ ì¸ì‹
                ê°œìˆ˜ê°€ í‘œì‹œë©ë‹ˆë‹¤.
              </div>
            </div>
          </div>

          <!-- ì‚¬ì´ë“œ-ë°”ì´-ì‚¬ì´ë“œ ë¦¬ë·°ì–´ ì„¹ì…˜ (ì¶”ì¶œ í›„ ë…¸ì¶œ) -->
          <div
            id="extractReviewer"
            class="mt-6 hidden animate-in fade-in slide-in-from-bottom-4 duration-500"
          >
            <div class="flex items-center justify-between mb-3 border-b pb-2">
              <h4 class="text-sm font-bold text-slate-700">
                <i class="fas fa-columns mr-2 text-indigo-500"></i>ì¶”ì¶œ ë°ì´í„°
                ì •ë°€ ë¦¬ë·° (Side-by-Side)
              </h4>
              <button
                type="button"
                onclick="
                  document
                    .getElementById('extractReviewer')
                    .classList.add('hidden')
                "
                class="text-slate-400 hover:text-slate-600"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 h-[550px]">
              <!-- ì¢Œì¸¡: ì›ë³¸ PDF (Blue Border) -->
              <div
                class="flex flex-col border-2 border-blue-400 rounded-lg bg-white overflow-hidden shadow-md"
              >
                <div
                  class="p-2 bg-blue-50 border-b border-blue-100 flex items-center justify-between"
                >
                  <span class="text-xs font-bold text-blue-700"
                    ><i class="fas fa-file-pdf mr-1"></i>ì›ë³¸ íŒŒì¼
                    ë¯¸ë¦¬ë³´ê¸°</span
                  >
                  <div class="flex items-center gap-2">
                    <button
                      type="button"
                      id="revPrevBtn"
                      class="px-2 py-0.5 text-[10px] bg-white border border-blue-200 rounded hover:bg-blue-50 transition-colors"
                    >
                      ì´ì „
                    </button>
                    <span
                      id="revPageLabel"
                      class="text-[10px] font-mono font-bold text-blue-600"
                      >1 / 1</span
                    >
                    <button
                      type="button"
                      id="revNextBtn"
                      class="px-2 py-0.5 text-[10px] bg-white border border-blue-200 rounded hover:bg-blue-50 transition-colors"
                    >
                      ë‹¤ìŒ
                    </button>
                  </div>
                </div>
                <div
                  id="revPdfContainer"
                  class="flex-1 overflow-auto bg-slate-200 p-4 flex justify-center items-start"
                >
                  <div class="relative shadow-2xl bg-white">
                    <canvas id="revPdfCanvas"></canvas>
                    <div id="revPdfOverlay" class="absolute inset-0 z-10"></div>
                  </div>
                </div>
              </div>
              <!-- ìš°ì¸¡: ì¸ì‹ëœ ë¬¸ì œ (Red Border) -->
              <div
                class="flex flex-col border-2 border-red-400 rounded-lg bg-white overflow-hidden shadow-md"
              >
                <div
                  class="p-2 bg-red-50 border-b border-red-100 flex items-center justify-between"
                >
                  <span class="text-xs font-bold text-red-700"
                    ><i class="fas fa-list-check mr-1"></i>ì¸ì‹ëœ ë¬¸í•­
                    ë¦¬ìŠ¤íŠ¸</span
                  >
                  <span
                    id="revCountLabel"
                    class="text-[10px] bg-red-100 text-red-600 px-2 py-0.5 rounded-full font-bold"
                    >0ê°œ ë°œê²¬</span
                  >
                </div>
                <div
                  id="revQuestionList"
                  class="flex-1 overflow-auto p-4 space-y-3 bg-slate-50"
                >
                  <p class="text-sm text-slate-400 text-center mt-20 italic">
                    ë°ì´í„°ë¥¼ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤...
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="mt-4 border-t border-slate-200 pt-4">
            <div class="rounded-lg border border-indigo-200 bg-indigo-50 p-3 mb-3">
              <div class="flex flex-wrap items-end gap-2">
                <div class="flex-1 min-w-[240px]">
                  <label
                    class="block text-[10px] font-bold text-indigo-500 uppercase mb-1"
                    >í˜„ì¬ ì‚¬ìš© ê°€ëŠ¥ ëª¨ë¸</label
                  >
                  <div class="flex gap-1">
                    <select
                      id="aiAvailableModelSelect"
                      class="flex-1 px-2 py-2 text-xs rounded border border-indigo-200 bg-white focus:ring-1 focus:ring-indigo-400 outline-none"
                    >
                      <option value="">ëª¨ë¸ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ì„¸ìš”</option>
                    </select>
                    <button
                      type="button"
                      onclick="refreshAvailableModels()"
                      class="px-2 py-1.5 text-xs rounded bg-white border border-indigo-200 hover:bg-indigo-100"
                      title="í˜„ì¬ ì„¤ì • ê¸°ì¤€ìœ¼ë¡œ ëª¨ë¸ ëª©ë¡ ê°±ì‹ "
                    >
                      <i class="fas fa-rotate"></i>
                    </button>
                  </div>
                </div>
                <button
                  type="button"
                  id="generateByApiBtn"
                  onclick="generateDraftAnswersByActiveModel()"
                  class="px-3 py-2 text-sm rounded bg-indigo-600 text-white hover:bg-indigo-700"
                >
                  ì„ íƒ ëª¨ë¸ë¡œ ì´ˆì•ˆ ì‘ì„±
                </button>
                <button
                  type="button"
                  onclick="generateDraftAnswersLocal()"
                  class="px-3 py-2 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"
                >
                  ì´ˆì•ˆ ìë™ ì‘ì„± (ë¡œì»¬ ê·œì¹™)
                </button>
              </div>
              <p id="aiModeHint" class="mt-2 text-xs text-slate-600">
                ëª¨ë¸ ëª©ë¡ì„ ì„ íƒí•œ ë’¤ ë°”ë¡œ ì´ˆì•ˆì„ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
              </p>
            </div>

            <label class="inline-flex items-center text-sm text-slate-700 mb-3">
              <input
                id="overwriteGenerated"
                type="checkbox"
                class="mr-2 accent-indigo-600"
              />
              ê¸°ì¡´ ëª¨ë²”ë‹µì•ˆì´ ìˆì–´ë„ ë®ì–´ì“°ê¸°
            </label>

            <details class="rounded-lg border border-slate-200 bg-slate-50 p-3">
              <summary class="cursor-pointer text-sm font-semibold text-slate-700">
                AI ì„¤ì • (Endpoint / Provider / API Key / í”„ë¦¬ì…‹)
              </summary>

              <div class="mt-3 flex flex-wrap gap-2 mb-3">
                <div class="flex-1 min-w-[200px]">
                  <label
                    class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                    >AI ëª¨ë¸ í”„ë¦¬ì…‹</label
                  >
                  <div class="flex gap-1">
                    <select
                      id="aiModelPresets"
                      class="flex-1 px-2 py-1.5 text-xs rounded border border-slate-200 bg-white focus:ring-1 focus:ring-slate-400 outline-none"
                    >
                      <option value="">í”„ë¦¬ì…‹ ì„ íƒ...</option>
                    </select>
                    <button
                      type="button"
                      onclick="saveCurrentAiPreset()"
                      class="px-2 py-1 text-xs rounded bg-slate-100 hover:bg-slate-200 border border-slate-200"
                      title="í˜„ì¬ ì„¤ì •ì„ í”„ë¦¬ì…‹ìœ¼ë¡œ ì €ì¥"
                    >
                      <i class="fas fa-save"></i>
                    </button>
                    <button
                      type="button"
                      onclick="deleteCurrentAiPreset()"
                      class="px-2 py-1 text-xs rounded bg-slate-100 hover:bg-rose-50 text-slate-400 hover:text-rose-600 border border-slate-200"
                      title="í˜„ì¬ í”„ë¦¬ì…‹ ì‚­ì œ"
                    >
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </div>
                </div>
                <div class="flex-1 min-w-[200px]">
                  <label
                    class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                    >AI Endpoint URL</label
                  >
                  <input
                    type="text"
                    id="aiEndpointUrl"
                    placeholder="http://localhost:8787"
                    class="w-full px-2 py-1.5 text-xs rounded border border-slate-200 bg-white focus:ring-1 focus:ring-slate-400 outline-none"
                  />
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mb-3">
                <div>
                  <label
                    class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                    >API Key (ì„ íƒ)</label
                  >
                  <input
                    type="password"
                    id="aiApiKey"
                    placeholder="Bearer Key..."
                    class="w-full px-2 py-1.5 text-xs rounded border border-slate-200 bg-white focus:ring-1 focus:ring-slate-400 outline-none"
                  />
                </div>
                <div>
                  <label
                    class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                    >AI Provider (ì™¸ë¶€APIìš©)</label
                  >
                  <select
                    id="aiProvider"
                    class="w-full px-2 py-1.5 text-xs rounded border border-slate-200 bg-white focus:ring-1 focus:ring-slate-400 outline-none"
                  >
                    <option value="">Default (Backend)</option>
                    <option value="openai">OpenAI</option>
                    <option value="gemini">Gemini</option>
                    <option value="anthropic">Anthropic</option>
                    <option value="lmstudio">LM Studio (Local)</option>
                  </select>
                </div>
                <div>
                  <label
                    class="block text-[10px] font-bold text-slate-400 uppercase mb-1"
                    >LM Studio Model ID</label
                  >
                  <input
                    type="text"
                    id="aiFoundryModelId"
                    placeholder="Llama-3-..."
                    class="w-full px-2 py-1.5 text-xs rounded border border-slate-200 bg-white focus:ring-1 focus:ring-slate-400 outline-none"
                  />
                </div>
              </div>

              <div class="mt-2 flex flex-wrap gap-2">
                <button
                  type="button"
                  onclick="generateDraftAnswersByLmStudioLocal()"
                  class="px-3 py-2 text-sm rounded bg-violet-600 text-white hover:bg-violet-700"
                >
                  ì´ˆì•ˆ ì‘ì„± (LM Studio)
                </button>
                <button
                  type="button"
                  onclick="detectLmStudioModelId()"
                  class="px-3 py-2 text-sm rounded bg-violet-200 text-violet-900 hover:bg-violet-300"
                >
                  ëª¨ë¸ ID ìë™ ê°ì§€
                </button>
                <button
                  type="button"
                  onclick="refreshAvailableModels()"
                  class="px-3 py-2 text-sm rounded bg-indigo-100 text-indigo-800 hover:bg-indigo-200"
                >
                  ëª¨ë¸ ëª©ë¡ ìƒˆë¡œê³ ì¹¨
                </button>
                <button
                  type="button"
                  onclick="checkBackendConnection()"
                  class="px-3 py-2 text-sm rounded bg-slate-200 hover:bg-slate-300"
                >
                  ë°±ì—”ë“œ ì—°ê²° í™•ì¸
                </button>
                <button
                  type="button"
                  onclick="validateApiKeys()"
                  class="px-3 py-2 text-sm rounded bg-amber-100 text-amber-800 hover:bg-amber-200"
                  title="OpenAI, Gemini, Anthropic API í‚¤ ìœ íš¨ì„± ì •ë°€ ê²€ì‚¬"
                >
                  <i class="fas fa-key mr-1"></i>API í‚¤ ìœ íš¨ì„± ê²€ì‚¬
                </button>
                <button
                  type="button"
                  onclick="checkBackendConnection()"
                  class="px-2 py-1 text-[10px] rounded bg-slate-200 text-slate-700 hover:bg-slate-300 transition-colors"
                  title="ë°±ì—”ë“œ ì—°ê²° ìƒíƒœ ìˆ˜ë™ í™•ì¸"
                >
                  <i class="fas fa-sync-alt mr-1"></i>ì¬ì—°ê²°
                </button>
                <span
                  id="backendCoreStatus"
                  class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-600 self-center"
                  >ë°±ì—”ë“œ: í™•ì¸ ëŒ€ê¸°</span
                >
                <span
                  id="lmStudioStatus"
                  class="text-[11px] px-2 py-1 rounded-full bg-slate-100 text-slate-600 self-center"
                  >LM Studio: í™•ì¸ ëŒ€ê¸°</span
                >
                <div id="lmActionButtons" class="hidden items-center gap-1.5">
                  <button
                    type="button"
                    onclick="switchToExternalApiMode()"
                    class="px-2 py-1 text-[10px] rounded bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors"
                    title="ì™¸ë¶€ API ëª¨ë“œë¡œ ì „í™˜"
                  >
                    ì™¸ë¶€ API ëª¨ë“œ
                  </button>
                  <button
                    type="button"
                    onclick="generateDraftAnswersLocal()"
                    class="px-2 py-1 text-[10px] rounded bg-emerald-100 text-emerald-700 hover:bg-emerald-200 transition-colors"
                    title="AI ì—°ê²° ì—†ì´ ë¡œì»¬ ê·œì¹™ìœ¼ë¡œ ë‹µì•ˆ ì‘ì„±"
                  >
                    ë¡œì»¬ ê·œì¹™ìœ¼ë¡œ ê³„ì†
                  </button>
                </div>
                <span id="backendStatus" class="hidden">ì—°ê²° ëŒ€ê¸° ì¤‘...</span>
              </div>

              <div
                id="backendDiagnostics"
                class="mt-2 text-[11px] rounded border border-slate-200 bg-white p-2.5 text-slate-600 space-y-1"
              >
                Provider ì§„ë‹¨ ì •ë³´ ì—†ìŒ
              </div>
            </details>
          </div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">ëª¨ë²”ë‹µì•ˆ ì¶”ê°€</h3>
          <input id="editingIndex" type="hidden" value="" />
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs font-bold text-slate-600 mb-1"
                >íšŒì°¨</label
              >
              <input
                id="newQRound"
                type="text"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
                placeholder="ì˜ˆ: 120íšŒ"
              />
            </div>
            <div>
              <label class="block text-xs font-bold text-slate-600 mb-1"
                >ë¬¸ì œ ID</label
              >
              <input
                id="newQId"
                type="text"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
                placeholder="ì˜ˆ: Q3"
              />
            </div>
            <div>
              <label
                for="newQTitle"
                class="block text-xs font-bold text-slate-600 mb-1"
                >ë¬¸ì œ ì œëª©</label
              >
              <input
                id="newQTitle"
                type="text"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
                placeholder="ì˜ˆ: ë§¤íŠ¸ë¦­ìŠ¤ í•´ì„ ì ˆì°¨ ì„¤ëª…"
              />
            </div>
            <div>
              <label class="block text-xs font-bold text-slate-600 mb-1"
                >íƒœê·¸ (ì‰¼í‘œ êµ¬ë¶„)</label
              >
              <input
                id="newQTags"
                type="text"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
                placeholder="ì˜ˆ: êµ¬ì¡°ì—­í•™, Matrix, KDS"
              />
            </div>
            <div>
              <label class="block text-xs font-bold text-slate-600 mb-1"
                >ì¶œì²˜</label
              >
              <input
                id="newQSource"
                type="text"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
                placeholder="ì˜ˆ: NotebookLM Draft"
              />
            </div>
          </div>
          <div class="mt-4">
            <label class="block text-xs font-bold text-slate-600 mb-1"
              >ëª¨ë²”ë‹µì•ˆ</label
            >
            <textarea
              id="newQAnswer"
              class="w-full h-36 p-3 text-sm border border-slate-300 rounded bg-white"
              placeholder="ëª¨ë²”ë‹µì•ˆ ë³¸ë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”."
            ></textarea>
          </div>
          <div class="mt-3 flex items-center gap-3">
            <label class="inline-flex items-center text-sm text-slate-700">
              <input
                id="newQReviewed"
                type="checkbox"
                class="mr-2 accent-emerald-600"
              />
              ê²€í† ì™„ë£Œ
            </label>
            <button
              type="button"
              id="entrySubmitBtn"
              onclick="addModelAnswerEntry()"
              class="px-3 py-2 text-sm rounded bg-indigo-600 text-white hover:bg-indigo-700"
            >
              ëª¨ë²”ë‹µì•ˆ ì¶”ê°€
            </button>
            <button
              type="button"
              onclick="cancelEditMode()"
              class="px-3 py-2 text-sm rounded bg-slate-200 text-slate-700 hover:bg-slate-300"
            >
              ìˆ˜ì • ì·¨ì†Œ
            </button>
          </div>
          <p class="mt-2 text-xs text-slate-500">
            ì¶”ê°€ ì‹œ JSON ì…ë ¥ì°½ê³¼ ë Œë”ë§ ê²°ê³¼ì— ì¦‰ì‹œ ë°˜ì˜ë©ë‹ˆë‹¤.
          </p>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">ê²€ìƒ‰/í•„í„°</h3>
          <div class="grid grid-cols-1 md:grid-cols-4 gap-3">
            <input
              id="filterKeyword"
              type="text"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              placeholder="ì œëª©/ë‹µì•ˆ ê²€ìƒ‰"
            />
            <select
              id="filterRound"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
            >
              <option value="">ì „ì²´ íšŒì°¨</option>
            </select>
            <select
              id="filterTag"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
            >
              <option value="">ì „ì²´ íƒœê·¸</option>
            </select>
            <label class="inline-flex items-center text-sm text-slate-700 px-2">
              <input
                id="filterLowScore"
                type="checkbox"
                class="mr-2 accent-rose-600"
              />
              ì €ë“ì  ìš°ì„  ë³´ê¸° (&lt;70)
            </label>
          </div>
          <div id="roundSummary" class="mt-3 text-xs text-slate-500"></div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">íšŒì°¨ë³„ í†µê³„ ëŒ€ì‹œë³´ë“œ</h3>
          <div class="grid grid-cols-1 md:grid-cols-4 gap-3 mb-4">
            <div class="p-3 rounded border border-slate-200 bg-slate-50">
              <div class="text-xs text-slate-500">ëˆ„ì  íšŒì°¨ ìˆ˜</div>
              <div
                id="statTotalRounds"
                class="text-xl font-bold text-slate-800 mt-1"
              >
                0
              </div>
            </div>
            <div class="p-3 rounded border border-slate-200 bg-slate-50">
              <div class="text-xs text-slate-500">ëˆ„ì  ë¬¸í•­ ìˆ˜</div>
              <div
                id="statTotalQuestions"
                class="text-xl font-bold text-slate-800 mt-1"
              >
                0
              </div>
            </div>
            <div class="p-3 rounded border border-slate-200 bg-slate-50">
              <div class="text-xs text-slate-500">ì „ì²´ í‰ê·  ì ìˆ˜</div>
              <div
                id="statAvgScore"
                class="text-xl font-bold text-indigo-700 mt-1"
              >
                0
              </div>
            </div>
            <div class="p-3 rounded border border-slate-200 bg-slate-50">
              <div class="text-xs text-slate-500">ì €ë“ì  ë¹„ìœ¨ (&lt;70)</div>
              <div
                id="statLowScoreRate"
                class="text-xl font-bold text-rose-700 mt-1"
              >
                0%
              </div>
            </div>
          </div>
          <div class="bg-white border border-slate-200 rounded-lg p-3 mb-4">
            <div class="text-xs text-slate-500 mb-2">
              íšŒì°¨ë³„ í‰ê· ì  / ì €ë“ì  ë¬¸í•­ ìˆ˜
            </div>
            <div style="position: relative; width: 100%; height: 260px">
              <canvas id="roundStatsChart"></canvas>
            </div>
          </div>
          <div class="overflow-x-auto">
            <table
              class="min-w-full text-sm border border-slate-200 rounded overflow-hidden"
            >
              <thead class="bg-slate-100 text-slate-700">
                <tr>
                  <th class="px-3 py-2 text-left">íšŒì°¨</th>
                  <th class="px-3 py-2 text-left">ë¬¸í•­ ìˆ˜</th>
                  <th class="px-3 py-2 text-left">í‰ê·  ì ìˆ˜</th>
                  <th class="px-3 py-2 text-left">ì €ë“ì  ë¬¸í•­ ìˆ˜</th>
                  <th class="px-3 py-2 text-left">ë³´ê°• ìš°ì„ ë„</th>
                </tr>
              </thead>
              <tbody
                id="roundStatsBody"
                class="divide-y divide-slate-200 bg-white"
              >
                <tr>
                  <td colspan="5" class="px-3 py-3 text-slate-500">
                    í†µê³„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm">
          <h3 class="text-lg font-bold mb-4">ë Œë”ë§ ê²°ê³¼</h3>
          <div id="answerList" class="space-y-4"></div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mt-6">
          <div class="flex flex-wrap items-center justify-between gap-3 mb-3">
            <h3 class="text-lg font-bold">ìë™ ê²€í†  ë° ë³´ê°• ì œì•ˆ</h3>
            <button
              type="button"
              onclick="evaluateRenderedAnswers()"
              class="px-3 py-2 text-sm rounded bg-rose-600 text-white hover:bg-rose-700"
            >
              ìë™ í‰ê°€ ì‹¤í–‰
            </button>
          </div>
          <p class="text-sm text-slate-600 mb-4">
            í‰ê°€ ê¸°ì¤€: ë¶„ëŸ‰ ì ì •ì„±, ë„í•´/í‘œ/ê·¸ë˜í”„ í™œìš©, í•µì‹¬ í‚¤ì›Œë“œ(ì˜ì–´ ë³‘ê¸°),
            KDS ì½”ë“œ ëª…ì‹œ, ê°œì¡°ì‹/ë„˜ë²„ë§ êµ¬ì¡°.
          </p>
          <div id="evaluationSummary" class="mb-4 text-sm text-slate-700"></div>
          <div id="evaluationList" class="space-y-3"></div>
        </div>
      </section>

      <!-- SECTION 6: THEORY KNOWLEDGE BASE -->
      <section id="theory" class="content-section max-w-7xl mx-auto">
        <div class="mb-8">
          <h2 class="text-3xl font-bold text-slate-800 mb-2">
            ì´ë¡  ì§€ì‹ë² ì´ìŠ¤ & ë¶„ì„ ìŠ¤íŠœë””ì˜¤
          </h2>
          <p
            class="text-slate-600 bg-white p-4 rounded-lg shadow-sm border-l-4 border-amber-500"
          >
            <strong>Context:</strong> ê¸°ì¶œë¬¸ì œ ë¶„ì„ì„ í†µí•´ ë„ì¶œëœ í•µì‹¬ ì´ë¡ ì„
            ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤. ì²¨ë¶€ ìë£Œ ë¶„ì„ê³¼ ì¤‘ë³µë„ ê²€ì‚¬ë¥¼ í†µí•´ ì§€ì‹ì˜
            ê¹Šì´ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          </p>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">
            ì²¨ë¶€ ìë£Œ ë¶„ì„ ìŠ¤íŠœë””ì˜¤ (íŒŒì¼/ì›¹ì‚¬ì´íŠ¸)
          </h3>
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            <div>
              <label class="block text-xs font-bold text-slate-600 mb-1"
                >íŒŒì¼ ì²¨ë¶€ (ë™ì˜ìƒ/ì´ë¯¸ì§€/PDF/í…ìŠ¤íŠ¸)</label
              >
              <input
                id="attachmentFiles"
                type="file"
                multiple
                accept="video/*,image/*,application/pdf,.pdf,.txt,.md,.csv"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              />
              <div class="mt-2 flex items-center gap-2">
                <label class="text-xs text-slate-600">ASR ëª¨ë“œ</label>
                <select
                  id="asrModeSelect"
                  class="text-xs p-1 rounded border border-slate-200"
                >
                  <option value="auto" selected>ìë™(ë°±ì—”ë“œ ì „ì‚¬ ì‹œë„)</option>
                  <option value="disabled">ì „ì‚¬ ë¹„í™œì„±í™”</option>
                  <option value="mock">ëª¨ì˜ ì „ì‚¬(ë¡œì»¬)</option>
                </select>
                <span class="text-[10px] text-slate-400"
                  >ì˜¤ë””ì˜¤/ë™ì˜ìƒ íŒŒì¼ ì „ì‚¬ ë°©ì‹</span
                >
              </div>
              <textarea
                id="attachmentFocus"
                class="w-full h-24 mt-2 p-2 text-xs border border-slate-300 rounded bg-slate-50"
                placeholder="ë¶„ì„ ì´ˆì (ì˜ˆ: PSC ê¸´ì¥ì¬ ë¶€ì‹ ëŒ€ì±… ì¤‘ì‹¬ìœ¼ë¡œ ìš”ì•½)"
              ></textarea>
              <div class="mt-2 flex flex-wrap gap-2">
                <button
                  type="button"
                  onclick="analyzeAttachedFiles()"
                  class="px-3 py-2 text-sm rounded bg-indigo-600 text-white hover:bg-indigo-700"
                >
                  íŒŒì¼ ë¶„ì„ ì‹¤í–‰
                </button>
                <button
                  type="button"
                  id="analyzeWebsiteBtn"
                  onclick="analyzeAttachedWebsite()"
                  class="px-3 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700"
                >
                  ì›¹ì‚¬ì´íŠ¸ ë¶„ì„ ì‹¤í–‰
                </button>
              </div>
              <div
                id="attachmentFilesResult"
                class="mt-3 text-sm text-slate-600"
              ></div>
              <input
                id="attachmentWebsiteUrl"
                type="text"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white mt-2"
                placeholder="ì›¹ì‚¬ì´íŠ¸ URL ì²¨ë¶€ (ì˜ˆ: https://...)"
              />
              <p id="attachmentStatus" class="mt-2 text-xs text-slate-500"></p>
            </div>
            <div>
              <div class="text-xs text-slate-600 mb-1">ë¶„ì„ ê²°ê³¼ ì ìš©</div>
              <select
                id="attachmentTargetQuestion"
                class="w-full p-2 text-sm border border-slate-300 rounded bg-white mb-2"
              >
                <option value="">ë³´ê°• ì ìš©í•  ë¬¸ì œ ì„ íƒ</option>
              </select>
              <button
                type="button"
                onclick="applyAttachmentInsightToQuestion()"
                class="px-3 py-2 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"
              >
                ì„ íƒ ë¬¸ì œì— ë³´ê°• ë°˜ì˜
              </button>
              <div class="mt-3 p-3 rounded border border-slate-200 bg-slate-50">
                <div
                  id="attachmentInsightSummary"
                  class="text-sm text-slate-700"
                ></div>
                <ul
                  id="attachmentInsightPoints"
                  class="mt-2 text-xs text-slate-700 list-disc list-inside space-y-1"
                ></ul>
                <pre
                  id="attachmentInsightBoost"
                  class="mt-2 whitespace-pre-wrap text-xs text-slate-700"
                ></pre>
              </div>
            </div>
          </div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">ì´ë¡  ì§€ì‹ ë² ì´ìŠ¤ (ëˆ„ì  ê´€ë¦¬)</h3>
          <input id="editingTheoryIndex" type="hidden" value="" />
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
            <input
              id="theoryId"
              type="text"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              placeholder="ì´ë¡  ID (ì˜ˆ: TH-001)"
            />
            <input
              id="theoryTitle"
              type="text"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              placeholder="ì´ë¡  ì œëª©"
            />
            <input
              id="theoryCategory"
              type="text"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              placeholder="ì¹´í…Œê³ ë¦¬ (ì˜ˆ: RC/ê°•êµ¬ì¡°/ë™ì—­í•™)"
            />
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mt-3">
            <input
              id="theoryRound"
              type="text"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              placeholder="íšŒì°¨ (ì˜ˆ: 121íšŒ)"
            />
            <input
              id="theoryTags"
              type="text"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              placeholder="íƒœê·¸ (ì‰¼í‘œ êµ¬ë¶„)"
            />
            <input
              id="theorySource"
              type="text"
              class="w-full p-2 text-sm border border-slate-300 rounded bg-white"
              placeholder="ì¶œì²˜ (ì˜ˆ: PDF/ë©”ëª¨/ê²½í—˜)"
            />
          </div>
          <textarea
            id="theoryContent"
            class="w-full h-32 mt-3 p-3 text-sm border border-slate-300 rounded bg-white"
            placeholder="ì´ë¡  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”. (ì •ì˜/ë©”ì»¤ë‹ˆì¦˜/ì„¤ê³„ê¸°ì¤€/KDS/ë„í•´ í¬ì¸íŠ¸)"
          ></textarea>
          <div class="mt-3 flex flex-wrap gap-2">
            <button
              type="button"
              id="theorySubmitBtn"
              onclick="upsertTheoryEntry()"
              class="px-3 py-2 text-sm rounded bg-indigo-600 text-white hover:bg-indigo-700"
            >
              ì´ë¡  ì¶”ê°€
            </button>
            <button
              type="button"
              onclick="cancelTheoryEditMode()"
              class="px-3 py-2 text-sm rounded bg-slate-200 text-slate-700 hover:bg-slate-300"
            >
              ìˆ˜ì • ì·¨ì†Œ
            </button>
            <button
              type="button"
              onclick="analyzeTheoryKnowledge()"
              class="px-3 py-2 text-sm rounded bg-emerald-600 text-white hover:bg-emerald-700"
            >
              ì¤‘ë³µ/ë³´ê°• ìë™ ë¶„ì„
            </button>
            <button
              type="button"
              onclick="generateTheoryMergeDrafts()"
              class="px-3 py-2 text-sm rounded bg-blue-600 text-white hover:bg-blue-700"
            >
              ë³´ê°• ë³‘í•© ì´ˆì•ˆ ìƒì„±
            </button>
            <button
              type="button"
              onclick="applyTheoryCleanup()"
              class="px-3 py-2 text-sm rounded bg-rose-600 text-white hover:bg-rose-700"
            >
              ì¤‘ë³µ ì •ë¦¬ ì ìš©
            </button>
          </div>
          <p class="mt-2 text-xs text-slate-500">
            ë¶„ì„ ê¸°ì¤€: ìœ ì‚¬ë„ ê¸°ë°˜ ì¤‘ë³µ íŒë‹¨ + ë³´ì™„ í‚¤ì›Œë“œ ê¸°ë°˜ ë³´ê°• íŒë‹¨
          </p>
          <div id="theoryStatus" class="mt-2 text-xs text-slate-500"></div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">ì´ë¡  ëª©ë¡</h3>
          <div id="theoryList" class="space-y-3"></div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">ì´ë¡  ì¤‘ë³µ/ë³´ê°• ë¶„ì„ ê²°ê³¼</h3>
          <div
            id="theoryAnalysisSummary"
            class="text-sm text-slate-700 mb-3"
          ></div>
          <div id="theoryAnalysisList" class="space-y-3"></div>
        </div>

        <div class="glass-panel p-6 rounded-xl shadow-sm mb-6">
          <h3 class="text-lg font-bold mb-4">ë³´ê°• ë³‘í•© ì´ˆì•ˆ</h3>
          <div class="mb-3 flex items-center gap-2 text-sm">
            <label class="text-slate-600">ìµœì†Œ í’ˆì§ˆ ì ìˆ˜</label>
            <select
              id="mergeQualityThreshold"
              class="p-2 text-sm border border-slate-300 rounded bg-white"
            >
              <option value="0">ì „ì²´</option>
              <option value="60">60ì  ì´ìƒ</option>
              <option value="70" selected>70ì  ì´ìƒ</option>
              <option value="80">80ì  ì´ìƒ</option>
              <option value="90">90ì  ì´ìƒ</option>
            </select>
          </div>
          <div
            id="theoryMergeSummary"
            class="text-sm text-slate-700 mb-3"
          ></div>
          <div id="theoryMergeList" class="space-y-3"></div>
        </div>
      </section>
    </main>

    <div
      id="deleteConfirmModal"
      class="fixed inset-0 z-50 hidden items-center justify-center bg-black/40 p-4"
    >
      <div
        class="w-full max-w-md rounded-xl bg-white border border-slate-200 shadow-xl p-5"
      >
        <h4 class="text-lg font-bold text-slate-800 mb-2">í•­ëª© ì‚­ì œ í™•ì¸</h4>
        <p class="text-sm text-slate-600 mb-4">
          ì„ íƒí•œ ëª¨ë²”ë‹µì•ˆì„ ì‚­ì œí•˜ë©´ JSONê³¼ í‰ê°€ ê²°ê³¼ì—ì„œë„ ì¦‰ì‹œ ì œê±°ë©ë‹ˆë‹¤.
        </p>
        <div class="flex justify-end gap-2">
          <button
            type="button"
            onclick="closeDeleteConfirmModal()"
            class="px-3 py-2 text-sm rounded bg-slate-200 text-slate-700 hover:bg-slate-300"
          >
            ì·¨ì†Œ
          </button>
          <button
            type="button"
            onclick="confirmDeleteModelAnswerEntry()"
            class="px-3 py-2 text-sm rounded bg-rose-600 text-white hover:bg-rose-700"
          >
            ì‚­ì œ
          </button>
        </div>
      </div>
    </div>

    <!-- App Modules ìµœì‹ í™” (ìºì‹œ ë¬´ë ¥í™”) -->
    <script>
      // v21.6.9: ì „ì—­ ë³€ìˆ˜ ì´ˆê¸° ì„ ì–¸ (íŒŒì¼ ê°„ ìŠ¤ì½”í”„ í†µí•© ë° ì´ˆê¸°í™” ì˜¤ë¥˜ ë°©ì§€)
      window.visualPdfDoc = null;
      window.visualTextCache = [];
      window.visualCurrentPage = 1;
      window.currentVisualViewport = null;
      window.ignoredVisualBlocks = [];

      // ë§ˆìš°ìŠ¤ ì¡°ì‘ ìƒíƒœ ì „ì—­í™”
      window.activeQuestionId = null;
      window.activeHandleType = null;
      window.activeViewport = null;
      window.mouseInitialPos = { x: 0, y: 0 };
      window.boxInitialPos = null;

      // ë Œë”ë§ ì ê¸ˆ
      window._isRenderingPage = null;
    </script>
    <script src="js/state.js?v=21.6.12"></script>
    <script src="js/api.js?v=21.6.12"></script>
    <script src="js/pdf.js?v=21.6.12"></script>
    <script src="js/ui.js?v=21.6.12"></script>
    <script src="js/app.js?v=21.6.12"></script>

    <script>
      // OCR removed for MVP â€” provide safe stubs and user-facing messages
      window.OCR_REMOVED = true;

      function _ocrRemovedNotice() {
        const el =
          document.getElementById("analysisPdfOcrStatus") ||
          document.getElementById("pdfStatus");
        if (el)
          el.textContent =
            "OCR ê¸°ëŠ¥ì€ MVPì—ì„œ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. AIê°€ í…ìŠ¤íŠ¸(ë˜ëŠ” ë¬¸ì œ)ë¥¼ ì¸ì‹í•˜ë„ë¡ í…ìŠ¤íŠ¸ë¥¼ ë¶™ì—¬ë„£ì–´ ì£¼ì„¸ìš”.";
        // console.warn removed to keep console clean
      }

      // Replace common OCR entrypoints with no-ops that inform the user
      try {
        window.runExamPdfOcrCheck = async function () {
          _ocrRemovedNotice();
          return { ok: false };
        };
      } catch {}
      try {
        window.runTesseractPass = async function () {
          return "";
        };
      } catch {}
      try {
        window.initTesseractWorkerPool = function () {
          return;
        };
      } catch {}
      try {
        window.acquireTesseractWorker = async function () {
          return null;
        };
      } catch {}
      try {
        window.releaseTesseractWorker = function () {
          return;
        };
      } catch {}
      try {
        window.runRobustOcr = async function () {
          return "";
        };
      } catch {}
      try {
        window.createEnhancedOcrCanvas = function () {
          const c = document.createElement("canvas");
          c.width = 1;
          c.height = 1;
          return c;
        };
      } catch {}
      try {
        window.rotateCanvas = function () {
          const c = document.createElement("canvas");
          c.width = 1;
          c.height = 1;
          return c;
        };
      } catch {}
      try {
        window.renderAnalysisOcrPageLayout = async function () {
          _ocrRemovedNotice();
          return;
        };
      } catch {}
      try {
        window.updateOcrProgress = function () {
          return;
        };
      } catch {}

      // Update any visible OCR status on load (once is enough)
      window.addEventListener("load", () => {
        _ocrRemovedNotice();
      });
    </script>
  </body>
</html>
